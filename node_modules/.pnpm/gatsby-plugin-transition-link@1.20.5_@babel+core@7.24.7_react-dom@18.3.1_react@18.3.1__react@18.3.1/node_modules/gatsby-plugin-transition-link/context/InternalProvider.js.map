{"version":3,"sources":["../../src/context/InternalProvider.js"],"names":["InternalProvider","Component","constructor","props","prefersReducedMotionSetting","window","matchMedia","prefersReducedMotion","matches","process","env","NODE_ENV","console","warn","state","inTransition","disableAnimation","e","exitDelay","exitLength","exitState","exitProps","exitTrigger","entryDelay","entryLength","entryState","entryProps","entryTrigger","updateContext","obj","setState","addEventListener","addListener","componentDidMount","render","children","propTypes","PropTypes","node","isRequired"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,gBAAN,SAA+BC,gBAA/B,CAAyC;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAClB,UAAMA,KAAN;AACA,UAAMC,2BAA2B,GAChC,OAAOC,MAAP,KAAmB,WAAnB,IACAA,MAAM,CAACC,UAAP,CAAkB,kCAAlB,CAFD;AAIA,UAAMC,oBAAoB,GAAGH,2BAA7B;;AAEA,QACCA,2BAA2B,CAACI,OAA5B,IACAC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAA0B,aAF3B,EAGE;AACDC,MAAAA,OAAO,CAACC,IAAR,CACE,uJADF;AAGA;;AAED,SAAKC,KAAL,GAAa;AACZC,MAAAA,YAAY,EAAE,KADF;AAEZC,MAAAA,gBAAgB,EAAET,oBAAoB,CAACC,OAF3B;AAGZ;AACAS,MAAAA,CAAC,EAAE,KAJS;AAKZ;AACAC,MAAAA,SAAS,EAAE,CANC;AAOZC,MAAAA,UAAU,EAAE,CAPA;AAQZC,MAAAA,SAAS,EAAE,EARC;AASZC,MAAAA,SAAS,EAAE,EATC;AAUZC,MAAAA,WAAW,EAAE,KAVD;AAWZ;AACAC,MAAAA,UAAU,EAAE,CAZA;AAaZC,MAAAA,WAAW,EAAE,CAbD;AAcZC,MAAAA,UAAU,EAAE,EAdA;AAeZC,MAAAA,UAAU,EAAE,EAfA;AAgBZC,MAAAA,YAAY,EAAE,KAhBF;AAiBZ;AACAC,MAAAA,aAAa,EAAEC,GAAG,IAAI,KAAKC,QAAL,CAAcD,GAAd;AAlBV,KAAb;;AAqBA,QACCtB,oBAAoB,IACpB,OAAOA,oBAAoB,CAACwB,gBAA5B,KAAkD,UAFnD,EAGE;AACDxB,MAAAA,oBAAoB,CAACwB,gBAArB,CAAsC,QAAtC,EAAgD,MAAM;AACrD,aAAKD,QAAL,CAAc;AACbd,UAAAA,gBAAgB,EAAET,oBAAoB,CAACC;AAD1B,SAAd;AAGA,OAJD;AAKA,KATD,MASO,IACND,oBAAoB,IACpB,OAAOA,oBAAoB,CAACyB,WAA5B,KAA6C,UAFvC,EAGL;AACDzB,MAAAA,oBAAoB,CAACyB,WAArB,CAAiC,MAAM;AACtC,aAAKF,QAAL,CAAc;AACbd,UAAAA,gBAAgB,EAAET,oBAAoB,CAACC;AAD1B,SAAd;AAGA,OAJD;AAKA;AACD;;AAEDyB,EAAAA,iBAAiB,GAAG;AACnB,SAAKnB,KAAL,CAAWc,aAAX,CAAyB,gCAAzB;AACA;;AAEDM,EAAAA,MAAM,GAAG;AACR,wBAAO,6BAAC,iCAAD;AAAU,MAAA,KAAK,EAAE,KAAKpB,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8B,KAAKX,KAAL,CAAWgC,QAAzC,CAAP;AACA;;AAlEuC;;AAqEzCnC,gBAAgB,CAACoC,SAAjB,GAA6B;AAC5BD,EAAAA,QAAQ,EAAEE,mBAAUC,IAAV,CAAeC;AADG,CAA7B;eAIevC,gB","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport { Provider } from './createTransitionContext'\nimport getPagesPromises from '../utils/getPagesPromises'\n\nclass InternalProvider extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tconst prefersReducedMotionSetting =\n\t\t\ttypeof window !== `undefined` &&\n\t\t\twindow.matchMedia('(prefers-reduced-motion: reduce)')\n\n\t\tconst prefersReducedMotion = prefersReducedMotionSetting\n\n\t\tif (\n\t\t\tprefersReducedMotionSetting.matches &&\n\t\t\tprocess.env.NODE_ENV === `development`\n\t\t) {\n\t\t\tconsole.warn(\n\t\t\t\t`[gatsby-plugin-transition-link] Warning! prefers-reduced-motion is activated via your OS settings. This means TransitionLink animations will not run.`\n\t\t\t)\n\t\t}\n\n\t\tthis.state = {\n\t\t\tinTransition: false,\n\t\t\tdisableAnimation: prefersReducedMotion.matches,\n\t\t\t// event\n\t\t\te: false,\n\t\t\t// exit\n\t\t\texitDelay: 0,\n\t\t\texitLength: 0,\n\t\t\texitState: {},\n\t\t\texitProps: {},\n\t\t\texitTrigger: false,\n\t\t\t// entry\n\t\t\tentryDelay: 0,\n\t\t\tentryLength: 0,\n\t\t\tentryState: {},\n\t\t\tentryProps: {},\n\t\t\tentryTrigger: false,\n\t\t\t// state updates\n\t\t\tupdateContext: obj => this.setState(obj),\n\t\t}\n\n\t\tif (\n\t\t\tprefersReducedMotion &&\n\t\t\ttypeof prefersReducedMotion.addEventListener === `function`\n\t\t) {\n\t\t\tprefersReducedMotion.addEventListener('change', () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tdisableAnimation: prefersReducedMotion.matches,\n\t\t\t\t})\n\t\t\t})\n\t\t} else if (\n\t\t\tprefersReducedMotion &&\n\t\t\ttypeof prefersReducedMotion.addListener === `function`\n\t\t) {\n\t\t\tprefersReducedMotion.addListener(() => {\n\t\t\t\tthis.setState({\n\t\t\t\t\tdisableAnimation: prefersReducedMotion.matches,\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.state.updateContext(getPagesPromises())\n\t}\n\n\trender() {\n\t\treturn <Provider value={this.state}>{this.props.children}</Provider>\n\t}\n}\n\nInternalProvider.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n}\n\nexport default InternalProvider\n"],"file":"InternalProvider.js"}