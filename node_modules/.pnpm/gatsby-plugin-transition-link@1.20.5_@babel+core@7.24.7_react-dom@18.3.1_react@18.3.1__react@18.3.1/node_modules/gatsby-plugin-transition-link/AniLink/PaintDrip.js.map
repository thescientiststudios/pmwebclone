{"version":3,"sources":["../../src/AniLink/PaintDrip.js"],"names":["PaintDrip","Component","constructor","props","createRipple","length","event","hex","color","node","body","document","canvas","createElement","ctx","getContext","piTwo","Math","PI","rgb","convert","join","keyword","style","zIndex","top","position","vw","width","window","innerWidth","vh","height","innerHeight","appendChild","x","clientX","y","clientY","dx","dy","radius","sqrt","ripple","alpha","seconds","gsap","timeline","onUpdate","drawRipple","onComplete","removeCanvas","to","duration","ease","set","visibility","clearRect","beginPath","arc","fillStyle","fill","addEventListener","onResize","wait","setTimeout","removeChild","getDirection","from","xPercent","yPercent","slideIn","bind","componentWillUnmount","removeEventListener","render","exit","removedExit","entry","removedEntry","paintDrip","removedProp","direction","aniLength","aniDelay","trigger","e","delay","children"],"mappings":"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","sourcesContent":["// This was made using the code borrowed from this beautiful codepen!\n// https://codepen.io/osublake/pen/eNrQqV?editors=0010\nimport React, { Component } from 'react'\nimport TransitionLink from '../'\nimport gsap from 'gsap'\nimport convert from 'color-convert'\n\nexport default class PaintDrip extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.createRipple = this.createRipple.bind(this)\n\t}\n\n\tcreateRipple = ({ length }, event, hex, color, node) => {\n\t\tconst body = document.body\n\t\tconst canvas = document.createElement('canvas')\n\t\tconst ctx = canvas.getContext('2d')\n\t\tconst piTwo = Math.PI * 2\n\n\t\tlet rgb = hex ? convert.hex.rgb(hex).join(',') : '0,0,255'\n\t\trgb = color ? convert.keyword.rgb(color) : rgb\n\n\t\tcanvas.style.zIndex = 10000\n\t\tcanvas.style.top = 0\n\t\tcanvas.style.position = 'fixed'\n\n\t\tlet vw = (canvas.width = window.innerWidth)\n\t\tlet vh = (canvas.height = window.innerHeight)\n\n\t\tbody.appendChild(canvas)\n\n\t\t// Event coords\n\t\tconst x = event.clientX\n\t\tconst y = event.clientY\n\n\t\t// Delta - difference between event and farthest corner\n\t\tconst dx = x < vw / 2 ? vw - x : x\n\t\tconst dy = y < vh / 2 ? vh - y : y\n\n\t\tconst radius = Math.sqrt(dx * dx + dy * dy)\n\n\t\tconst ripple = {\n\t\t\talpha: 0,\n\t\t\tradius: 0,\n\t\t\tx: x,\n\t\t\ty: y,\n\t\t}\n\n\t\tconst seconds = length\n\n\t\tgsap.timeline({\n\t\t\tonUpdate: drawRipple,\n\t\t\tonComplete: () => removeCanvas(seconds / 3),\n\t\t})\n\t\t\t.to(ripple, { alpha: 1, duration: seconds / 4 })\n\t\t\t.to(\n\t\t\t\tripple,\n\t\t\t\t{ \n\t\t\t\t\tradius: radius,\n\t\t\t\t\tease: \"power1.easeIn\",\n\t\t\t\t\tduration: seconds - seconds / 3,\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t)\n\t\t\t.set(node, { visibility: 'hidden' })\n\t\t\t.to(\n\t\t\t\tcanvas,\n\t\t\t\t{ \n\t\t\t\t\tx: '100%',\n\t\t\t\t\tease: \"power1.easeIn\",\n\t\t\t\t\tduration: seconds / 3,\n\t\t\t\t},\n\t\t\t\t`+=${seconds * 0.4}`\n\t\t\t)\n\n\t\tfunction drawRipple() {\n\t\t\tctx.clearRect(0, 0, vw, vh)\n\t\t\tctx.beginPath()\n\t\t\tctx.arc(ripple.x, ripple.y, ripple.radius, 0, piTwo, false)\n\t\t\tconst fillStyle = `rgba(${rgb},${ripple.alpha})`\n\t\t\tctx.fillStyle = fillStyle\n\t\t\tctx.fill()\n\t\t}\n\n\t\twindow.addEventListener('resize', onResize)\n\n\t\tfunction removeCanvas(wait = 0) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tbody.removeChild(canvas)\n\t\t\t}, wait)\n\t\t}\n\n\t\tfunction onResize() {\n\t\t\tvw = canvas.width = window.innerWidth\n\t\t\tvh = canvas.height = window.innerHeight\n\t\t}\n\t}\n\n\tgetDirection = from => {\n\t\tswitch (from) {\n\t\t\tcase 'left':\n\t\t\t\treturn { xPercent: -5 }\n\t\t\tcase 'right':\n\t\t\t\treturn { xPercent: 5 }\n\t\t\tcase 'top':\n\t\t\t\treturn { yPercent: -5 }\n\t\t\tcase 'bottom':\n\t\t\t\treturn { yPercent: 5 }\n\t\t\tdefault:\n\t\t\t\treturn {}\n\t\t}\n\t}\n\n\tslideIn = ({ length }, node, from) => {\n\t\tgsap.from(node, length, {\n\t\t\t...this.getDirection(from),\n\t\t\tease: 'power1.easeOut',\n\t\t})\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('resize', this.onResize)\n\t}\n\n\tonResize = () => {\n\t\tthis.vw = this.canvas.width = window.innerWidth\n\t\tthis.vh = this.canvas.height = window.innerHeight\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\texit: removedExit,\n\t\t\tentry: removedEntry,\n\t\t\tpaintDrip: removedProp,\n\t\t\tduration,\n\t\t\tdirection = 'left',\n\t\t\t...props\n\t\t} = this.props\n\t\tconst aniLength = duration || 1\n\t\tconst aniDelay = aniLength / 1.75\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<TransitionLink\n\t\t\t\t\texit={{\n\t\t\t\t\t\tlength: aniLength,\n\t\t\t\t\t\ttrigger: ({ exit, e, node }) =>\n\t\t\t\t\t\t\tthis.createRipple(\n\t\t\t\t\t\t\t\texit,\n\t\t\t\t\t\t\t\te,\n\t\t\t\t\t\t\t\tprops.hex,\n\t\t\t\t\t\t\t\tprops.color,\n\t\t\t\t\t\t\t\tnode\n\t\t\t\t\t\t\t),\n\t\t\t\t\t}}\n\t\t\t\t\tentry={{\n\t\t\t\t\t\tdelay: aniDelay,\n\t\t\t\t\t\tlength: aniLength,\n\t\t\t\t\t\ttrigger: ({ entry, node }) =>\n\t\t\t\t\t\t\tthis.slideIn(entry, node, direction),\n\t\t\t\t\t}}\n\t\t\t\t\t{...props}>\n\t\t\t\t\t{props.children}\n\t\t\t\t</TransitionLink>\n\t\t\t</>\n\t\t)\n\t}\n}\n"],"file":"PaintDrip.js"}