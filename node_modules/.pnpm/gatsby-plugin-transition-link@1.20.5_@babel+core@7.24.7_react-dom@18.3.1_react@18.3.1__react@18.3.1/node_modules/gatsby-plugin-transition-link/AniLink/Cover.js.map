{"version":3,"sources":["../../src/AniLink/Cover.js"],"names":["Cover","Component","constructor","props","getCoverEl","document","querySelector","horizontal","node","length","seconds","direction","directionTo","directionFrom","wait","half","cover","gsap","timeline","set","y","x","display","to","ease","duration","opacity","vertical","moveInDirection","bind","render","exit","removedExit","entry","removedEntry","removedProp","trigger","delay","children","position","background","bg","top","left","right","zIndex","width","height","transform"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport TransitionLink, { TransitionPortal } from '../'\nimport gsap from 'gsap'\n\nexport default class Cover extends Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\n\t\tthis.horizontal = this.horizontal.bind(this)\n\t\tthis.vertical = this.vertical.bind(this)\n\t}\n\n\tgetCoverEl = () => document.querySelector(`.tl-cover-el`)\n\n\thorizontal = ({ node, props: { length: seconds }, direction }) => {\n\t\tconst directionTo = direction === 'left' ? '-100%' : '100%'\n\t\tconst directionFrom = direction === 'left' ? '100%' : '-100%'\n\n\t\tconst wait = seconds / 6\n\t\tconst half = (seconds - wait) / 2\n\n\t\tconst cover = this.getCoverEl()\n\n\t\treturn gsap\n\t\t\t.timeline()\n\t\t\t.set(cover, { y: 0, x: directionFrom, display: \"block\" })\n\t\t\t.to(cover, {\n\t\t\t\tx: \"0%\",\n\t\t\t\tease: \"power1.easeInOut\",\n\t\t\t\tduration: half,\n\t\t\t})\n\t\t\t.set(node, { opacity: 0 })\n\t\t\t.to(\n\t\t\t\tcover,\n\t\t\t\t{\n\t\t\t\t\tx: directionTo,\n\t\t\t\t\tease: \"power1.easeInOut\",\n\t\t\t\t\tduration: half,\n\t\t\t\t},\n\t\t\t\t`+=${wait}`,\n\t\t\t)\n\t}\n\n\tvertical = ({ node, props: { length: seconds }, direction }) => {\n\t\tconst directionTo = direction === 'up' ? '-100%' : '100%'\n\t\tconst directionFrom = direction === 'up' ? '100%' : '-100%'\n\n\t\tconst wait = seconds / 6\n\t\tconst half = (seconds - wait) / 2\n\n\t\tconst cover = this.getCoverEl()\n\n\t\treturn gsap\n\t\t\t.timeline()\n\t\t\t.set(cover, { y: directionFrom })\n\t\t\t.to(cover, {\n\t\t\t\ty: \"0%\",\n\t\t\t\tease: \"power1.easeInOut\",\n\t\t\t\tduration: half,\n\t\t\t})\n\t\t\t.set(node, { opacity: 0 })\n\t\t\t.to(\n\t\t\t\tcover,\n\t\t\t\t{\n\t\t\t\t\ty: directionTo,\n\t\t\t\t\tease: \"power1.easeIn\",\n\t\t\t\t\tduration: half,\n\t\t\t\t},\n\t\t\t\t`+=${wait}`,\n\t\t\t)\n\t}\n\n\tmoveInDirection = ({ props, direction, node }) => {\n\t\tif (direction === 'left' || direction === 'right') {\n\t\t\treturn this.horizontal({ props, direction, node })\n\t\t}\n\n\t\treturn this.vertical({ props, direction, node })\n\t}\n\n\trender() {\n\t\tconst direction = this.props.direction || 'left'\n\t\tconst length = this.props.duration || 1\n\t\tconst {\n\t\t\texit: removedExit,\n\t\t\tentry: removedEntry,\n\t\t\tcover: removedProp,\n\t\t\t...props\n\t\t} = this.props\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<TransitionLink\n\t\t\t\t\texit={{\n\t\t\t\t\t\tlength: length,\n\t\t\t\t\t\ttrigger: ({ exit, node }) =>\n\t\t\t\t\t\t\tthis.moveInDirection({\n\t\t\t\t\t\t\t\tprops: exit,\n\t\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\t\tdirection,\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t}}\n\t\t\t\t\tentry={{\n\t\t\t\t\t\tdelay: length / 2,\n\t\t\t\t\t}}\n\t\t\t\t\t{...props}\n\t\t\t\t>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</TransitionLink>\n\n\t\t\t\t<TransitionPortal>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"tl-cover-el\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: \"fixed\",\n\t\t\t\t\t\t\tbackground: this.props.bg || \"#4b2571\",\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\tzIndex: 1000,\n\t\t\t\t\t\t\twidth: \"100vw\",\n\t\t\t\t\t\t\theight: \"100vh\",\n\t\t\t\t\t\t\ttransform: \"translateY(100%)\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</TransitionPortal>\n\t\t\t</>\n\t\t)\n\t}\n}\n"],"file":"Cover.js"}