{"version":3,"sources":["../../src/AniLink/Swipe.js"],"names":["boxShadow","swipeTopDirection","direction","reverse","polarityPos","polarityNeg","y","ease","x","swipeBottomDirection","offset","swipe","node","exit","top","triggerName","entryOffset","scrollTop","document","scrollingElement","body","window","pageYOffset","gsap","timeline","set","overflowY","height","from","duration","length","to","SwipeOver","entry","removedProp","props","exitLength","entryLength","entryZ","exitZ","trigger","zIndex","children"],"mappings":"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","sourcesContent":["import React from 'react'\nimport TransitionLink from '../'\nimport gsap from 'gsap'\n\nconst boxShadow = '0 0 100px 10px rgba(0, 0, 0, 0.12941176470588237)'\n\nconst swipeTopDirection = (direction, reverse) => {\n\tconst polarityPos = reverse ? '-' : '+'\n\tconst polarityNeg = reverse ? '+' : '-'\n\n\tswitch (direction) {\n\t\tcase 'down':\n\t\t\treturn { y: `${polarityPos}=100vh`, ease: \"power1.easeIn\" }\n\t\tcase 'up':\n\t\t\treturn { y: `${polarityNeg}=100vh`, ease: \"power1.easeIn\" }\n\t\tcase 'left':\n\t\t\treturn { x: `${polarityNeg}=100%`, ease: \"power1.easeIn\" }\n\t\tdefault:\n\t\t\treturn { x: `${polarityPos}=100%`, ease: \"power1.easeIn\" }\n\t}\n}\n\nconst swipeBottomDirection = (direction, reverse = false, offset = 40) => {\n\tconst polarityPos = reverse ? '-' : ''\n\tconst polarityNeg = reverse ? '' : '-'\n\n\tswitch (direction) {\n\t\tcase 'down':\n\t\t\treturn { y: `${polarityNeg}${offset}vh`, ease: \"power1.easeIn\" }\n\t\tcase 'up':\n\t\t\treturn { y: `${polarityPos}${offset}vh`, ease: \"power1.easeIn\" }\n\t\tcase 'left':\n\t\t\treturn { x: `${polarityPos}${offset}%`, ease: \"power1.easeIn\" }\n\t\tdefault:\n\t\t\treturn { x: `${polarityNeg}${offset}%`, ease: \"power1.easeIn\" }\n\t}\n}\n\nconst swipe = ({ node, exit, direction, top, triggerName, entryOffset }) => {\n\tconst scrollTop =\n\t\t(document.scrollingElement && document.scrollingElement.scrollTop) ||\n\t\tdocument.body.scrollTop ||\n\t\twindow.pageYOffset\n\n\tif (triggerName === 'entry' && top === 'entry') {\n\t\treturn gsap.timeline()\n\t\t\t.set(node, {\n\t\t\t\tboxShadow: boxShadow,\n\t\t\t\toverflowY: 'hidden',\n\t\t\t\theight: '100vh',\n\t\t\t\tscrollTop: scrollTop,\n\t\t\t})\n\t\t\t.from(node, { ...swipeTopDirection(direction, true), duration: exit.length })\n\t\t\t.set(node, { overflowY: 'initial' })\n\t} else if (triggerName === 'entry') {\n\t\treturn gsap.timeline().from(\n\t\t\tnode,\n\t\t\t{ \n\t\t\t\t...swipeBottomDirection(direction, false, entryOffset),\n\t\t\t\tduration: exit.length,\n\t\t\t}\n\t\t)\n\t} else if (triggerName === 'exit' && top === 'exit') {\n\t\treturn gsap.timeline()\n\t\t\t.set(node, {\n\t\t\t\tboxShadow: boxShadow,\n\t\t\t\toverflowY: 'hidden',\n\t\t\t\theight: '100vh',\n\t\t\t\tscrollTop: scrollTop,\n\t\t\t})\n\t\t\t.to(node, { ...swipeTopDirection(direction), duration: exit.length })\n\t\t\t.set(node, { overflowY: 'initial' })\n\t} else {\n\t\treturn gsap.timeline()\n\t\t\t.set(node, {\n\t\t\t\tboxShadow: boxShadow,\n\t\t\t\toverflowY: 'hidden',\n\t\t\t\theight: '100vh',\n\t\t\t\tscrollTop: scrollTop,\n\t\t\t})\n\t\t\t.to(\n\t\t\t\tnode,\n\t\t\t\t{ \n\t\t\t\t\t...swipeBottomDirection(direction, true, entryOffset),\n\t\t\t\t\tduration: exit.length,\n\t\t\t\t},\n\t\t\t)\n\t\t\t.set(node, { overflowY: 'initial' })\n\t}\n}\n\nexport default function SwipeOver({\n\texit,\n\tentry,\n\tswipe: removedProp,\n\tentryOffset = 40,\n\t...props\n}) {\n\tconst top = props.top || 'exit'\n\tconst exitLength = props.duration || 0.7\n\tconst entryLength = exitLength / 3.5\n\tconst entryZ = top === 'entry' ? 1 : 0\n\tconst exitZ = top === 'exit' ? 1 : 0\n\n\treturn (\n\t\t<TransitionLink\n\t\t\texit={{\n\t\t\t\tlength: exitLength,\n\t\t\t\ttrigger: ({ node, exit }) =>\n\t\t\t\t\tswipe({\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\texit,\n\t\t\t\t\t\tdirection: props.direction,\n\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\tentryOffset,\n\t\t\t\t\t\ttriggerName: 'exit',\n\t\t\t\t\t}),\n\t\t\t\tzIndex: exitZ,\n\t\t\t}}\n\t\t\tentry={{\n\t\t\t\tlength: entryLength,\n\t\t\t\ttrigger: ({ node, exit }) =>\n\t\t\t\t\tswipe({\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\texit,\n\t\t\t\t\t\tdirection: props.direction,\n\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\tentryOffset,\n\t\t\t\t\t\ttriggerName: 'entry',\n\t\t\t\t\t}),\n\t\t\t\tzIndex: entryZ,\n\t\t\t}}\n\t\t\t{...props}>\n\t\t\t{props.children}\n\t\t</TransitionLink>\n\t)\n}\n"],"file":"Swipe.js"}