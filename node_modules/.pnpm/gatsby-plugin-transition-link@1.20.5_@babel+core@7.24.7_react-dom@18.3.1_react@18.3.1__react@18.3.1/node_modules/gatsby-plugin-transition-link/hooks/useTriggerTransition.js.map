{"version":3,"sources":["../../src/hooks/useTriggerTransition.js"],"names":["useTriggerTransition","defaultOptions","context","Context","programmaticallyTriggerTransition","calledOptions","Event","nativeEvent","event","options","disableAnimation","persist","preventDefault","to"],"mappings":";;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,oBAAoB,GAAGC,cAAc,IAAI;AAC9C,QAAMC,OAAO,GAAG,uBAAWC,gCAAX,CAAhB;;AACA,QAAMC,iCAAiC,GAAGC,aAAa,IAAI;AAC1D;AACA,QACCA,aAAa,YAAYC,KAAzB,IACCD,aAAa,CAACE,WAAd,IACAF,aAAa,CAACE,WAAd,YAAqCD,KAHvC,EAIE;AACDD,MAAAA,aAAa,GAAG;AACfG,QAAAA,KAAK,EAAEH;AADQ,OAAhB;AAGA;;AAED,UAAMI,OAAO,GAAG,EACf,GAAGR,cADY;AAEf,SAAGI;AAFY,KAAhB;;AAKA,QAAIH,OAAO,CAACQ,gBAAZ,EAA8B;AAC7B;AACA;AACA,UAAID,OAAO,CAACD,KAAZ,EAAmB;AAClBC,QAAAA,OAAO,CAACD,KAAR,CAAcG,OAAd;AACAF,QAAAA,OAAO,CAACD,KAAR,CAAcI,cAAd;AACA;;AACD,4BAASH,OAAO,CAACI,EAAjB;AACA,KARD,MAQO;AACN,gDAAkB,EACjB,GAAGX,OADc;AAEjB,WAAGO;AAFc,OAAlB;AAIA;AACD,GA/BD;;AAgCA,SAAOL,iCAAP;AACA,CAnCD","sourcesContent":["import { useContext } from 'react'\nimport { navigate } from 'gatsby'\nimport { Context } from '../context/createTransitionContext'\nimport { triggerTransition } from '../utils/triggerTransition'\n\nconst useTriggerTransition = defaultOptions => {\n\tconst context = useContext(Context)\n\tconst programmaticallyTriggerTransition = calledOptions => {\n\t\t// allow passing an event directly instead of options\n\t\tif (\n\t\t\tcalledOptions instanceof Event ||\n\t\t\t(calledOptions.nativeEvent &&\n\t\t\t\tcalledOptions.nativeEvent instanceof Event)\n\t\t) {\n\t\t\tcalledOptions = {\n\t\t\t\tevent: calledOptions,\n\t\t\t}\n\t\t}\n\n\t\tconst options = {\n\t\t\t...defaultOptions,\n\t\t\t...calledOptions,\n\t\t}\n\n\t\tif (context.disableAnimation) {\n\t\t\t// If the user has set their browser or OS to prefers-reduced-motion\n\t\t\t// we should respect that.\n\t\t\tif (options.event) {\n\t\t\t\toptions.event.persist()\n\t\t\t\toptions.event.preventDefault()\n\t\t\t}\n\t\t\tnavigate(options.to)\n\t\t} else {\n\t\t\ttriggerTransition({\n\t\t\t\t...context,\n\t\t\t\t...options,\n\t\t\t})\n\t\t}\n\t}\n\treturn programmaticallyTriggerTransition\n}\n\nexport { useTriggerTransition }\n"],"file":"useTriggerTransition.js"}